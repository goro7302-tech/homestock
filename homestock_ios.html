<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="HomeStock">
  <meta name="theme-color" content="#10b981">
  <title>HomeStock - Âú®Â∫´ÁÆ°ÁêÜ„Ç¢„Éó„É™</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkhvbWVTdG9jayIsCiAgInNob3J0X25hbWUiOiAiSG9tZVN0b2NrIiwKICAiZGVzY3JpcHRpb24iOiAi44GE44G+44CB5a625LqL5L2V44GM44GC44KL77yf44KS44Od44Kx44OD44OI44GrIiwKICAic3RhcnRfdXJsIjogIi4vIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZjBmZGY0IiwKICAidGhlbWVfY29sb3IiOiAiIzEwYjk4MSIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1USTRJaUJvWldsbmFIUTlJakV5T0NJZ2RtbGxkMEp2ZUQwaU1DQXdJREV5T0NBeE1qZ2lJR1pwYkd3OUlpTXhNR0k1T0RFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJK1BISmxZM1FnZUQwaU1qQWlJSGs5SWpJd0lpQjNhV1IwYUQwaU9EZ2lJR2hsYVdkb2REMGlPRGdpSUhKNFBTSXhNaUlnWm1sc2JEMGlJM2RvYVhSbElpOCtQSEJoZEdnZ1pEMGlUVEkwSURRd1RERTJJRFEzVERFMklEWXpUREU0SURZMVRESTBJRGN3VERNd0lEWTFURE15SURZelRETXlJRFEzVERNMElEUXdUalEwSURNMlRqUXdJRE0wVGpNMklETTBTak0wSURNNFRESTRJRE0wVERJMElETTBUakU0SURNME1qQWdOalJNTWpBZ05qUk1NallnTlRoTU1qQWdOVEpNTWpBZ05EaE1NallnTkRKTU1qWWdNemhNTWpZZ016Sk1NekFnTWpaTU16UWdNakpNTXpRZ01UaE1NekFnTVRKTU16QWdOaXd5TUNBMk1pNDJJRFl6TGpRZ05qVXNOalVnTmpVc05qVXNOalVnTmpVc05qVXNOalVzTmpVZ05qVXNOalVzTmpVZ05qVXNOalVzTmpVZ05qVXNOalVzTmpVZ05qVXNOalVzTmpVZ05qVXNOalVzTmpVZ05qVXNOalVnTmpWNklpQm1hV3hzUFNJak1UQmlPVGd4SWk4K1BDOXN2Kys4aldCK1BDOXpkbWMrIiwKICAgICAgInNpemVzIjogIjEyOHgxMjgiLAogICAgICAidHlwZSI6ICJpbWFnZS9zdmcreG1sIgogICAgfQogIF0KfQ==">
  
  <!-- Apple Touch Icon (SVG as data URI) -->
  <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9IiMxMGI5ODEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iMjAiIHk9IjIwIiB3aWR0aD0iODgiIGhlaWdodD0iODgiIHJ4PSIxMiIgZmlsbD0iI3doaXRlIi8+PHBhdGggZD0iTTI0IDQwTDE2IDQ3TDE2IDYzTDE4IDY1TDI0IDcwTDMwIDY1TDMyIDYzTDMyIDQ3TDM0IDQwTjQ0IDM2TjQwIDM0TjM2IDM0TjMyIDM0SjM0IDM4TDI4IDM0TDI0IDM0TjE4IDM0MjAgNjRMMjAgNjRMMjYgNThMMjAgNTJMMjAgNDhMMjYgNDJMMjYgMzhMMjYgMzJMMzAgMjZMMzQgMjJMMzQgMThMMzAgMTJMMzAgNiwyMCA2Mi42IDYzLjQgNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjUsNjVaIiBmaWxsPSIjMTBiOTgxIi8+PC9zdmc+">
  
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * {
      -webkit-tap-highlight-color: transparent;
    }
    body {
      margin: 0;
      padding: 0;
      overscroll-behavior: none;
      -webkit-overflow-scrolling: touch;
    }
    input, select, textarea, button {
      font-size: 16px !important; /* iOS zoom prevention */
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect } = React;
    const { Plus, Search, Package, Trash2, Calendar, MapPin, Tag, ShoppingCart, Zap, Home: HomeIcon, Bell, Filter, X } = (() => {
      const createIcon = (path, displayName) => ({ size = 24, color = 'currentColor', style = {} }) => (
        <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke={color} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" style={style}>
          {path}
        </svg>
      );
      
      return {
        Plus: createIcon(<><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></>),
        Search: createIcon(<><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></>),
        Package: createIcon(<><line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></>),
        Trash2: createIcon(<><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></>),
        Calendar: createIcon(<><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></>),
        MapPin: createIcon(<><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></>),
        Tag: createIcon(<><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></>),
        ShoppingCart: createIcon(<><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></>),
        Bell: createIcon(<><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></>),
        X: createIcon(<><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></>),
      };
    })();

const HomeStock = () => {
  const [items, setItems] = useState([]);
  const [showAddForm, setShowAddForm] = useState(false);
  const [searchQuery, setSearchQuery] = useState('');
  const [filterCategory, setFilterCategory] = useState('all');
  const [filterLocation, setFilterLocation] = useState('all');
  const [showNotifications, setShowNotifications] = useState(false);
  
  const [formData, setFormData] = useState({
    name: '',
    category: 'food',
    quantity: 1,
    price: '',
    purchaseDate: new Date().toISOString().split('T')[0],
    expiryDate: '',
    location: 'refrigerator',
    store: '',
    notes: ''
  });

  const categories = [
    { id: 'food', name: 'È£üÊñôÂìÅ', icon: 'üçé', color: '#10b981' },
    { id: 'appliance', name: 'ÂÆ∂Èõª', icon: 'üì±', color: '#3b82f6' },
    { id: 'daily', name: 'Êó•Áî®ÂìÅ', icon: 'üß¥', color: '#f59e0b' }
  ];

  const locations = [
    { id: 'refrigerator', name: 'ÂÜ∑ËîµÂ∫´' },
    { id: 'freezer', name: 'ÂÜ∑ÂáçÂ∫´' },
    { id: 'pantry', name: '„Éë„É≥„Éà„É™„Éº' },
    { id: 'kitchen', name: '„Ç≠„ÉÉ„ÉÅ„É≥' },
    { id: 'bathroom', name: 'Ê¥óÈù¢ÊâÄ' },
    { id: 'storage', name: 'ÂèéÁ¥ç' },
    { id: 'other', name: '„Åù„ÅÆ‰ªñ' }
  ];

  useEffect(() => {
    const savedItems = localStorage.getItem('homestock_items');
    if (savedItems) {
      setItems(JSON.parse(savedItems));
    }
  }, []);

  useEffect(() => {
    if (items.length > 0) {
      localStorage.setItem('homestock_items', JSON.stringify(items));
    }
  }, [items]);

  const getExpiryStatus = (expiryDate) => {
    if (!expiryDate) return null;
    const today = new Date();
    const expiry = new Date(expiryDate);
    const diffDays = Math.ceil((expiry - today) / (1000 * 60 * 60 * 24));
    
    if (diffDays < 0) return { status: 'expired', text: 'ÊúüÈôêÂàá„Çå', color: '#ef4444' };
    if (diffDays === 0) return { status: 'today', text: 'Êú¨Êó•ÊúüÈôê', color: '#f59e0b' };
    if (diffDays <= 3) return { status: 'warning', text: `ÊÆã„Çä${diffDays}Êó•`, color: '#f59e0b' };
    if (diffDays <= 7) return { status: 'soon', text: `ÊÆã„Çä${diffDays}Êó•`, color: '#fbbf24' };
    return { status: 'safe', text: `ÊÆã„Çä${diffDays}Êó•`, color: '#10b981' };
  };

  const getExpiringItems = () => {
    return items.filter(item => {
      if (!item.expiryDate) return false;
      const status = getExpiryStatus(item.expiryDate);
      return status && ['expired', 'today', 'warning'].includes(status.status);
    }).sort((a, b) => new Date(a.expiryDate) - new Date(b.expiryDate));
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    const newItem = {
      id: Date.now(),
      ...formData,
      createdAt: new Date().toISOString()
    };
    setItems([newItem, ...items]);
    setFormData({
      name: '',
      category: 'food',
      quantity: 1,
      price: '',
      purchaseDate: new Date().toISOString().split('T')[0],
      expiryDate: '',
      location: 'refrigerator',
      store: '',
      notes: ''
    });
    setShowAddForm(false);
  };

  const handleDelete = (id) => {
    if (window.confirm('„Åì„ÅÆ„Ç¢„Ç§„ÉÜ„É†„ÇíÂâäÈô§„Åó„Åæ„Åô„Åã?')) {
      setItems(items.filter(item => item.id !== id));
    }
  };

  const filteredItems = items.filter(item => {
    const matchesSearch = item.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
                         item.store.toLowerCase().includes(searchQuery.toLowerCase());
    const matchesCategory = filterCategory === 'all' || item.category === filterCategory;
    const matchesLocation = filterLocation === 'all' || item.location === filterLocation;
    return matchesSearch && matchesCategory && matchesLocation;
  });

  const getCategoryInfo = (categoryId) => {
    return categories.find(c => c.id === categoryId);
  };

  const getLocationName = (locationId) => {
    return locations.find(l => l.id === locationId)?.name || locationId;
  };

  const expiringItems = getExpiringItems();

  return (
    <div style={{
      minHeight: '100vh',
      background: 'linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 50%, #f0fdfa 100%)',
      fontFamily: "'Outfit', -apple-system, BlinkMacSystemFont, sans-serif",
      paddingBottom: 'env(safe-area-inset-bottom)'
    }}>
      <header style={{
        background: 'rgba(255, 255, 255, 0.95)',
        backdropFilter: 'blur(10px)',
        borderBottom: '1px solid rgba(16, 185, 129, 0.1)',
        padding: '1rem 1.5rem',
        paddingTop: 'calc(1rem + env(safe-area-inset-top))',
        position: 'sticky',
        top: 0,
        zIndex: 100,
        boxShadow: '0 2px 12px rgba(0, 0, 0, 0.04)'
      }}>
        <div style={{ maxWidth: '1200px', margin: '0 auto', display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>
          <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>
            <div style={{
              width: '40px',
              height: '40px',
              background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
              borderRadius: '12px',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)'
            }}>
              <Package color="white" size={24} />
            </div>
            <div>
              <h1 style={{ 
                fontSize: '1.5rem', 
                fontWeight: '700', 
                margin: 0,
                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                WebkitBackgroundClip: 'text',
                WebkitTextFillColor: 'transparent',
                letterSpacing: '-0.02em'
              }}>
                HomeStock
              </h1>
              <p style={{ fontSize: '0.75rem', color: '#6b7280', margin: 0 }}>„ÅÑ„Åæ„ÄÅÂÆ∂„Å´‰Ωï„Åå„ÅÇ„Çã?„Çí„Éù„Ç±„ÉÉ„Éà„Å´„ÄÇ</p>
            </div>
          </div>
          
          <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>
            <button
              onClick={() => setShowNotifications(!showNotifications)}
              style={{
                background: expiringItems.length > 0 ? '#fef3c7' : 'white',
                border: '1px solid #e5e7eb',
                borderRadius: '10px',
                padding: '0.5rem',
                cursor: 'pointer',
                display: 'flex',
                alignItems: 'center',
                gap: '0.5rem',
                position: 'relative',
                transition: 'all 0.2s'
              }}
            >
              <Bell size={20} color={expiringItems.length > 0 ? '#f59e0b' : '#6b7280'} />
              {expiringItems.length > 0 && (
                <span style={{
                  position: 'absolute',
                  top: '-4px',
                  right: '-4px',
                  background: '#ef4444',
                  color: 'white',
                  borderRadius: '50%',
                  width: '20px',
                  height: '20px',
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                  fontSize: '0.7rem',
                  fontWeight: '700'
                }}>
                  {expiringItems.length}
                </span>
              )}
            </button>
            
            <button
              onClick={() => setShowAddForm(true)}
              style={{
                background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                color: 'white',
                border: 'none',
                borderRadius: '10px',
                padding: '0.5rem 1rem',
                cursor: 'pointer',
                display: 'flex',
                alignItems: 'center',
                gap: '0.5rem',
                fontWeight: '600',
                fontSize: '0.9rem',
                boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)',
                transition: 'all 0.2s'
              }}
            >
              <Plus size={20} />
              ËøΩÂä†
            </button>
          </div>
        </div>
      </header>

      {showNotifications && (
        <div style={{
          position: 'fixed',
          top: 'calc(80px + env(safe-area-inset-top))',
          right: '20px',
          background: 'white',
          borderRadius: '16px',
          padding: '1.5rem',
          boxShadow: '0 10px 40px rgba(0, 0, 0, 0.15)',
          zIndex: 200,
          width: '320px',
          maxWidth: 'calc(100vw - 40px)',
          maxHeight: '400px',
          overflowY: 'auto'
        }}>
          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem' }}>
            <h3 style={{ margin: 0, fontSize: '1.1rem', fontWeight: '700' }}>üîî ÊúüÈôêÈÄöÁü•</h3>
            <button
              onClick={() => setShowNotifications(false)}
              style={{ background: 'none', border: 'none', cursor: 'pointer' }}
            >
              <X size={20} />
            </button>
          </div>
          
          {expiringItems.length === 0 ? (
            <p style={{ color: '#6b7280', textAlign: 'center', padding: '1rem 0' }}>
              ÊúüÈôê„ÅåËøë„ÅÑ„Ç¢„Ç§„ÉÜ„É†„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì
            </p>
          ) : (
            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
              {expiringItems.map(item => {
                const expiryInfo = getExpiryStatus(item.expiryDate);
                return (
                  <div key={item.id} style={{
                    padding: '0.75rem',
                    background: '#f9fafb',
                    borderRadius: '8px',
                    borderLeft: `3px solid ${expiryInfo.color}`
                  }}>
                    <div style={{ fontWeight: '600', marginBottom: '0.25rem' }}>{item.name}</div>
                    <div style={{ fontSize: '0.85rem', color: expiryInfo.color, fontWeight: '600' }}>
                      {expiryInfo.text}
                    </div>
                  </div>
                );
              })}
            </div>
          )}
        </div>
      )}

      <main style={{ maxWidth: '1200px', margin: '0 auto', padding: '2rem 1.5rem' }}>
        
        <div style={{
          display: 'grid',
          gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',
          gap: '1rem',
          marginBottom: '2rem'
        }}>
          {categories.map(cat => {
            const count = items.filter(item => item.category === cat.id).length;
            return (
              <div key={cat.id} style={{
                background: 'white',
                borderRadius: '16px',
                padding: '1.5rem',
                boxShadow: '0 2px 8px rgba(0, 0, 0, 0.04)',
                border: '1px solid rgba(0, 0, 0, 0.05)',
                transition: 'all 0.3s'
              }}>
                <div style={{ fontSize: '2rem', marginBottom: '0.5rem' }}>{cat.icon}</div>
                <div style={{ fontSize: '0.85rem', color: '#6b7280', marginBottom: '0.25rem' }}>{cat.name}</div>
                <div style={{ fontSize: '1.75rem', fontWeight: '700', color: cat.color }}>{count}</div>
              </div>
            );
          })}
        </div>

        <div style={{
          background: 'white',
          borderRadius: '16px',
          padding: '1.5rem',
          marginBottom: '2rem',
          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.04)',
          border: '1px solid rgba(0, 0, 0, 0.05)'
        }}>
          <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
            <div style={{ position: 'relative' }}>
              <Search style={{ position: 'absolute', left: '12px', top: '50%', transform: 'translateY(-50%)', color: '#9ca3af' }} size={20} />
              <input
                type="text"
                placeholder="ÂïÜÂìÅÂêç„ÇÑÂ∫óÂêç„ÅßÊ§úÁ¥¢..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                style={{
                  width: '100%',
                  padding: '0.75rem 1rem 0.75rem 2.75rem',
                  border: '1px solid #e5e7eb',
                  borderRadius: '10px',
                  fontSize: '16px',
                  fontFamily: 'inherit'
                }}
              />
            </div>
            
            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>
              <select
                value={filterCategory}
                onChange={(e) => setFilterCategory(e.target.value)}
                style={{
                  padding: '0.75rem 1rem',
                  border: '1px solid #e5e7eb',
                  borderRadius: '10px',
                  fontSize: '16px',
                  cursor: 'pointer',
                  fontFamily: 'inherit'
                }}
              >
                <option value="all">ÂÖ®„Ç´„ÉÜ„Ç¥„É™„Éº</option>
                {categories.map(cat => (
                  <option key={cat.id} value={cat.id}>{cat.icon} {cat.name}</option>
                ))}
              </select>
              
              <select
                value={filterLocation}
                onChange={(e) => setFilterLocation(e.target.value)}
                style={{
                  padding: '0.75rem 1rem',
                  border: '1px solid #e5e7eb',
                  borderRadius: '10px',
                  fontSize: '16px',
                  cursor: 'pointer',
                  fontFamily: 'inherit'
                }}
              >
                <option value="all">ÂÖ®‰øùÁÆ°Â†¥ÊâÄ</option>
                {locations.map(loc => (
                  <option key={loc.id} value={loc.id}>{loc.name}</option>
                ))}
              </select>
            </div>
          </div>
        </div>

        {filteredItems.length === 0 ? (
          <div style={{
            background: 'white',
            borderRadius: '16px',
            padding: '4rem 2rem',
            textAlign: 'center',
            boxShadow: '0 2px 8px rgba(0, 0, 0, 0.04)'
          }}>
            <Package size={64} color="#d1d5db" style={{ margin: '0 auto 1rem' }} />
            <h3 style={{ color: '#6b7280', fontSize: '1.1rem', marginBottom: '0.5rem' }}>
              {searchQuery || filterCategory !== 'all' || filterLocation !== 'all' 
                ? 'Ë©≤ÂΩì„Åô„Çã„Ç¢„Ç§„ÉÜ„É†„Åå„ÅÇ„Çä„Åæ„Åõ„Çì' 
                : '„Åæ„Å†„Ç¢„Ç§„ÉÜ„É†„Åå„ÅÇ„Çä„Åæ„Åõ„Çì'}
            </h3>
            <p style={{ color: '#9ca3af', fontSize: '0.9rem' }}>
              {searchQuery || filterCategory !== 'all' || filterLocation !== 'all'
                ? 'Ê§úÁ¥¢Êù°‰ª∂„ÇíÂ§âÊõ¥„Åó„Å¶„Åø„Å¶„Åè„Å†„Åï„ÅÑ'
                : '„ÄåËøΩÂä†„Äç„Éú„Çø„É≥„Åã„ÇâÊúÄÂàù„ÅÆ„Ç¢„Ç§„ÉÜ„É†„ÇíÁôªÈå≤„Åó„Åæ„Åó„Çá„ÅÜ'}
            </p>
          </div>
        ) : (
          <div style={{ display: 'grid', gap: '1rem' }}>
            {filteredItems.map(item => {
              const categoryInfo = getCategoryInfo(item.category);
              const expiryInfo = item.expiryDate ? getExpiryStatus(item.expiryDate) : null;
              
              return (
                <div key={item.id} style={{
                  background: 'white',
                  borderRadius: '16px',
                  padding: '1.5rem',
                  boxShadow: '0 2px 8px rgba(0, 0, 0, 0.04)',
                  border: '1px solid rgba(0, 0, 0, 0.05)',
                  transition: 'all 0.3s',
                  position: 'relative'
                }}>
                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>
                    <div style={{ flex: 1 }}>
                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.75rem', flexWrap: 'wrap' }}>
                        <span style={{
                          background: `${categoryInfo.color}15`,
                          color: categoryInfo.color,
                          padding: '0.25rem 0.75rem',
                          borderRadius: '6px',
                          fontSize: '0.75rem',
                          fontWeight: '600'
                        }}>
                          {categoryInfo.icon} {categoryInfo.name}
                        </span>
                        {expiryInfo && (
                          <span style={{
                            background: `${expiryInfo.color}15`,
                            color: expiryInfo.color,
                            padding: '0.25rem 0.75rem',
                            borderRadius: '6px',
                            fontSize: '0.75rem',
                            fontWeight: '600'
                          }}>
                            <Calendar size={12} style={{ display: 'inline', marginRight: '4px', verticalAlign: 'middle' }} />
                            {expiryInfo.text}
                          </span>
                        )}
                      </div>
                      
                      <h3 style={{ 
                        fontSize: '1.25rem', 
                        fontWeight: '700', 
                        marginBottom: '0.75rem',
                        color: '#111827'
                      }}>
                        {item.name}
                      </h3>
                      
                      <div style={{ 
                        display: 'grid', 
                        gridTemplateColumns: 'repeat(auto-fit, minmax(140px, 1fr))',
                        gap: '0.75rem',
                        fontSize: '0.85rem',
                        color: '#6b7280'
                      }}>
                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                          <Package size={16} color="#9ca3af" />
                          <span>Êï∞Èáè: {item.quantity}</span>
                        </div>
                        
                        {item.price && (
                          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                            <Tag size={16} color="#9ca3af" />
                            <span>¬•{parseInt(item.price).toLocaleString()}</span>
                          </div>
                        )}
                        
                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                          <MapPin size={16} color="#9ca3af" />
                          <span>{getLocationName(item.location)}</span>
                        </div>
                        
                        {item.store && (
                          <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                            <ShoppingCart size={16} color="#9ca3af" />
                            <span>{item.store}</span>
                          </div>
                        )}
                        
                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                          <Calendar size={16} color="#9ca3af" />
                          <span>Ë≥ºÂÖ•: {item.purchaseDate}</span>
                        </div>
                      </div>
                      
                      {item.notes && (
                        <div style={{
                          marginTop: '0.75rem',
                          padding: '0.75rem',
                          background: '#f9fafb',
                          borderRadius: '8px',
                          fontSize: '0.85rem',
                          color: '#6b7280'
                        }}>
                          {item.notes}
                        </div>
                      )}
                    </div>
                    
                    <button
                      onClick={() => handleDelete(item.id)}
                      style={{
                        background: '#fee2e2',
                        border: 'none',
                        borderRadius: '8px',
                        padding: '0.5rem',
                        cursor: 'pointer',
                        transition: 'all 0.2s',
                        marginLeft: '1rem',
                        flexShrink: 0
                      }}
                    >
                      <Trash2 size={18} color="#ef4444" />
                    </button>
                  </div>
                </div>
              );
            })}
          </div>
        )}
      </main>

      {showAddForm && (
        <div style={{
          position: 'fixed',
          top: 0,
          left: 0,
          right: 0,
          bottom: 0,
          background: 'rgba(0, 0, 0, 0.5)',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          zIndex: 300,
          padding: '1rem'
        }}
        onClick={() => setShowAddForm(false)}>
          <div style={{
            background: 'white',
            borderRadius: '20px',
            padding: '2rem',
            maxWidth: '600px',
            width: '100%',
            maxHeight: '90vh',
            overflowY: 'auto',
            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.3)'
          }}
          onClick={(e) => e.stopPropagation()}>
            <h2 style={{ 
              fontSize: '1.5rem', 
              fontWeight: '700', 
              marginBottom: '1.5rem',
              display: 'flex',
              alignItems: 'center',
              gap: '0.75rem'
            }}>
              <Plus size={28} color="#10b981" />
              Êñ∞„Åó„ÅÑ„Ç¢„Ç§„ÉÜ„É†„ÇíËøΩÂä†
            </h2>
            
            <form onSubmit={handleSubmit}>
              <div style={{ display: 'flex', flexDirection: 'column', gap: '1.25rem' }}>
                
                <div>
                  <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600', fontSize: '0.9rem' }}>
                    ÂïÜÂìÅÂêç *
                  </label>
                  <input
                    type="text"
                    required
                    value={formData.name}
                    onChange={(e) => setFormData({...formData, name: e.target.value})}
                    placeholder="‰æã: Áâõ‰π≥„ÄÅ„ÉÜ„Ç£„ÉÉ„Ç∑„É•„Éö„Éº„Éë„Éº"
                    style={{
                      width: '100%',
                      padding: '0.75rem',
                      border: '1px solid #e5e7eb',
                      borderRadius: '10px',
                      fontSize: '16px',
                      fontFamily: 'inherit'
                    }}
                  />
                </div>

                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>
                  <div>
                    <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600', fontSize: '0.9rem' }}>
                      „Ç´„ÉÜ„Ç¥„É™„Éº
                    </label>
                    <select
                      value={formData.category}
                      onChange={(e) => setFormData({...formData, category: e.target.value})}
                      style={{
                        width: '100%',
                        padding: '0.75rem',
                        border: '1px solid #e5e7eb',
                        borderRadius: '10px',
                        fontSize: '16px',
                        cursor: 'pointer',
                        fontFamily: 'inherit'
                      }}
                    >
                      {categories.map(cat => (
                        <option key={cat.id} value={cat.id}>{cat.icon} {cat.name}</option>
                      ))}
                    </select>
                  </div>
                  
                  <div>
                    <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600', fontSize: '0.9rem' }}>
                      Êï∞Èáè
                    </label>
                    <input
                      type="number"
                      min="1"
                      value={formData.quantity}
                      onChange={(e) => setFormData({...formData, quantity: e.target.value})}
                      style={{
                        width: '100%',
                        padding: '0.75rem',
                        border: '1px solid #e5e7eb',
                        borderRadius: '10px',
                        fontSize: '16px',
                        fontFamily: 'inherit'
                      }}
                    />
                  </div>
                </div>

                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>
                  <div>
                    <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600', fontSize: '0.9rem' }}>
                      ‰æ°Ê†º (ÂÜÜ)
                    </label>
                    <input
                      type="number"
                      value={formData.price}
                      onChange={(e) => setFormData({...formData, price: e.target.value})}
                      placeholder="‰ªªÊÑè"
                      style={{
                        width: '100%',
                        padding: '0.75rem',
                        border: '1px solid #e5e7eb',
                        borderRadius: '10px',
                        fontSize: '16px',
                        fontFamily: 'inherit'
                      }}
                    />
                  </div>
                  
                  <div>
                    <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600', fontSize: '0.9rem' }}>
                      Ë≥ºÂÖ•Êó•
                    </label>
                    <input
                      type="date"
                      value={formData.purchaseDate}
                      onChange={(e) => setFormData({...formData, purchaseDate: e.target.value})}
                      style={{
                        width: '100%',
                        padding: '0.75rem',
                        border: '1px solid #e5e7eb',
                        borderRadius: '10px',
                        fontSize: '16px',
                        fontFamily: 'inherit'
                      }}
                    />
                  </div>
                </div>

                {formData.category === 'food' && (
                  <div>
                    <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600', fontSize: '0.9rem' }}>
                      Ê∂àË≤ªÊúüÈôê
                    </label>
                    <input
                      type="date"
                      value={formData.expiryDate}
                      onChange={(e) => setFormData({...formData, expiryDate: e.target.value})}
                      style={{
                        width: '100%',
                        padding: '0.75rem',
                        border: '1px solid #e5e7eb',
                        borderRadius: '10px',
                        fontSize: '16px',
                        fontFamily: 'inherit'
                      }}
                    />
                  </div>
                )}

                <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '1rem' }}>
                  <div>
                    <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600', fontSize: '0.9rem' }}>
                      ‰øùÁÆ°Â†¥ÊâÄ
                    </label>
                    <select
                      value={formData.location}
                      onChange={(e) => setFormData({...formData, location: e.target.value})}
                      style={{
                        width: '100%',
                        padding: '0.75rem',
                        border: '1px solid #e5e7eb',
                        borderRadius: '10px',
                        fontSize: '16px',
                        cursor: 'pointer',
                        fontFamily: 'inherit'
                      }}
                    >
                      {locations.map(loc => (
                        <option key={loc.id} value={loc.id}>{loc.name}</option>
                      ))}
                    </select>
                  </div>
                  
                  <div>
                    <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600', fontSize: '0.9rem' }}>
                      Ë≥ºÂÖ•Â∫ó
                    </label>
                    <input
                      type="text"
                      value={formData.store}
                      onChange={(e) => setFormData({...formData, store: e.target.value})}
                      placeholder="‰æã: „Ç≥„Çπ„Éà„Ç≥"
                      style={{
                        width: '100%',
                        padding: '0.75rem',
                        border: '1px solid #e5e7eb',
                        borderRadius: '10px',
                        fontSize: '16px',
                        fontFamily: 'inherit'
                      }}
                    />
                  </div>
                </div>

                <div>
                  <label style={{ display: 'block', marginBottom: '0.5rem', fontWeight: '600', fontSize: '0.9rem' }}>
                    „É°„É¢
                  </label>
                  <textarea
                    value={formData.notes}
                    onChange={(e) => setFormData({...formData, notes: e.target.value})}
                    placeholder="Ëá™Áî±„Å´„É°„É¢„ÇíË®òÂÖ•"
                    rows="3"
                    style={{
                      width: '100%',
                      padding: '0.75rem',
                      border: '1px solid #e5e7eb',
                      borderRadius: '10px',
                      fontSize: '16px',
                      fontFamily: 'inherit',
                      resize: 'vertical'
                    }}
                  />
                </div>

                <div style={{ display: 'flex', gap: '1rem', marginTop: '0.5rem' }}>
                  <button
                    type="button"
                    onClick={() => setShowAddForm(false)}
                    style={{
                      flex: 1,
                      padding: '0.875rem',
                      background: '#f3f4f6',
                      border: 'none',
                      borderRadius: '10px',
                      fontSize: '16px',
                      fontWeight: '600',
                      cursor: 'pointer',
                      transition: 'all 0.2s'
                    }}
                  >
                    „Ç≠„É£„É≥„Çª„É´
                  </button>
                  <button
                    type="submit"
                    style={{
                      flex: 1,
                      padding: '0.875rem',
                      background: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',
                      color: 'white',
                      border: 'none',
                      borderRadius: '10px',
                      fontSize: '16px',
                      fontWeight: '600',
                      cursor: 'pointer',
                      boxShadow: '0 4px 12px rgba(16, 185, 129, 0.3)',
                      transition: 'all 0.2s'
                    }}
                  >
                    ËøΩÂä†„Åô„Çã
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      )}

      <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet" />
    </div>
  );
};

    ReactDOM.render(<HomeStock />, document.getElementById('root'));
  </script>
</body>
</html>
